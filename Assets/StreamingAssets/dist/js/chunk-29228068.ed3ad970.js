(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29228068"],{"105d":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;var i={exports:{}};(function(t,e){!function(e,n){t.exports=n()}(0,(function(){var t=1e3,e=6e4,n=36e5,i="millisecond",a="second",s="minute",r="hour",o="day",c="week",l="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},m={s:b,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+b(i,2,"0")+":"+b(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(i,l),s=n-a<0,r=e.clone().add(i+(s?-1:1),l);return+(-(i+(n-a)/(s?a-r:r-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:c,d:o,D:f,h:r,m:s,s:a,ms:i,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",w={};w[y]=v;var _=function(t){return t instanceof A},O=function(t,e,n){var i;if(!t)return y;if("string"==typeof t)w[t]&&(i=t),e&&(w[t]=e,i=t);else{var a=t.name;w[a]=t,i=a}return!n&&i&&(y=i),i||!n&&y},$=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new A(n)},C=m;C.l=O,C.i=_,C.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var A=function(){function v(t){this.$L=O(t.locale,null,!0),this.parse(t)}var b=v.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(p);if(i){var a=i[2]-1||0,s=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return C},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(t,e){var n=$(t);return this.startOf(e)<=n&&n<=this.endOf(e)},b.isAfter=function(t,e){return $(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<$(t)},b.$g=function(t,e,n){return C.u(t)?this[e]:this.set(n,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var n=this,i=!!C.u(e)||e,u=C.p(t),h=function(t,e){var a=C.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?a:a.endOf(o)},p=function(t,e){return C.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,v=this.$M,b=this.$D,m="set"+(this.$u?"UTC":"");switch(u){case d:return i?h(1,0):h(31,11);case l:return i?h(1,v):h(0,v+1);case c:var y=this.$locale().weekStart||0,w=(g<y?g+7:g)-y;return h(i?b-w:b+(6-w),v);case o:case f:return p(m+"Hours",0);case r:return p(m+"Minutes",1);case s:return p(m+"Seconds",2);case a:return p(m+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var n,c=C.p(t),u="set"+(this.$u?"UTC":""),h=(n={},n[o]=u+"Date",n[f]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[r]=u+"Hours",n[s]=u+"Minutes",n[a]=u+"Seconds",n[i]=u+"Milliseconds",n)[c],p=c===o?this.$D+(e-this.$W):e;if(c===l||c===d){var g=this.clone().set(f,1);g.$d[h](p),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[C.p(t)]()},b.add=function(i,u){var f,h=this;i=Number(i);var p=C.p(u),g=function(t){var e=$(h);return C.w(e.date(e.date()+Math.round(t*i)),h)};if(p===l)return this.set(l,this.$M+i);if(p===d)return this.set(d,this.$y+i);if(p===o)return g(1);if(p===c)return g(7);var v=(f={},f[s]=e,f[r]=n,f[a]=t,f)[p]||1,b=this.$d.getTime()+i*v;return C.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this;if(!this.isValid())return h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),a=this.$locale(),s=this.$H,r=this.$m,o=this.$M,c=a.weekdays,l=a.months,u=function(t,i,a,s){return t&&(t[i]||t(e,n))||a[i].substr(0,s)},d=function(t){return C.s(s%12||12,t,"0")},f=a.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:C.s(o+1,2,"0"),MMM:u(a.monthsShort,o,l,3),MMMM:u(l,o),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(a.weekdaysMin,this.$W,c,2),ddd:u(a.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:C.s(s,2,"0"),h:d(1),hh:d(2),a:f(s,r,!0),A:f(s,r,!1),m:String(r),mm:C.s(r,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:i};return n.replace(g,(function(t,e){return e||p[t]||i.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(i,f,h){var p,g=C.p(f),v=$(i),b=(v.utcOffset()-this.utcOffset())*e,m=this-v,y=C.m(this,v);return y=(p={},p[d]=y/12,p[l]=y,p[u]=y/3,p[c]=(m-b)/6048e5,p[o]=(m-b)/864e5,p[r]=m/n,p[s]=m/e,p[a]=m/t,p)[g]||m,h?y:C.a(y)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return w[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=O(t,e,!0);return i&&(n.$L=i),n},b.clone=function(){return C.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},v}(),D=A.prototype;return $.prototype=D,[["$ms",i],["$s",a],["$m",s],["$H",r],["$W",o],["$M",l],["$y",d],["$D",f]].forEach((function(t){D[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,A,$),t.$i=!0),$},$.locale=O,$.isDayjs=_,$.unix=function(t){return $(1e3*t)},$.en=w[y],$.Ls=w,$.p={},$}))})(i);var a=i.exports;function s(t){return 1e3*a(t).unix()}}).call(this,n("c8ba"))},"2adc":function(t,e,n){},"2eec":function(t,e,n){"use strict";n.r(e);var i,a,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("layout",{attrs:{"nav-bar-options":t.navBarOptions},on:{"click-right":t.clickRight,"click-left":t.navigateBack}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowDelIcon(),expression:"isShowDelIcon()"}],staticClass:"back-icon",attrs:{slot:"right",src:n(t.edited?"6efa":"bcfc")},slot:"right"}),i("div",{staticClass:"container"},[i("div",{staticClass:"content"},[i("van-tabs",{staticClass:"tabs",staticStyle:{"font-weight":"bold"},attrs:{type:"card",animated:""},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},[i("van-tab",{attrs:{title:t.leftTitle}},[i("div",{staticClass:"bottom-line"}),i("div",{staticClass:"log-list-wrapper"},[i("div",{staticClass:"log-list"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.edited,expression:"!edited"}],staticClass:"clean-info"},[i("div",{staticClass:"clean-info-item"},[i("div",[i("span",{staticClass:"item-value"},[t._v(t._s(t._f("mToFt")(t.totalStats.area,t.areaUnit)))]),i("span",{staticClass:"unit"},[t._v(t._s(t.areaUnit)),i("sup",[t._v("2")])])]),i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("total_area_sum")))])]),i("div",{staticClass:"clean-info-item"},[i("div",{staticClass:"item-value"},[t._v(t._s(t.totalStats.count))]),i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("lang_200115_190750_PJK1")))])]),i("div",{staticClass:"clean-info-item"},[i("div",[t.totalStats.hour>0?i("span",{staticClass:"item-value"},[t._v(t._s(t.totalStats.hour))]):t._e(),t.totalStats.hour>0?i("span",{staticClass:"unit"},[t._v(t._s("h"))]):t._e(),t.showTotalMin?i("span",{staticClass:"item-value"},[t._v(t._s(t.totalStats.minute))]):t._e(),t.showTotalMin?i("span",{staticClass:"unit"},[t._v(t._s(t.totalStats.hour>0?"m":"min"))]):t._e()]),i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("total_time_sum")))])])]),i("log-items",{ref:"childlog",attrs:{type:"clean",edit:t.edited},on:{transfer1:t.getChildlogLength}})],1)])]),i("van-tab",{attrs:{title:t.rightTitle}},[i("div",{staticClass:"bottom-line"}),i("div",{staticClass:"log-list-wrapper"},[i("div",{staticClass:"log-list "},[i("log-items",{ref:"childvideo",attrs:{type:"patrol",edit:t.edited},on:{transfer2:t.getChildvideoLength}})],1)])])],1)],1)])])},r=[],o=(n("47e2"),n("2241")),c=n("a34a"),l=n.n(c),u=n("2f62"),d=n("0530"),f=n("60fe"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"log-items",class:0===t.logs.length?"empty-bg":""},[0===t.logs.length?i("div",[i("van-empty",{staticClass:"empty",attrs:{image:n("404f"),description:t.$t("lang_210722_092301_z5ts")}})],1):[i("van-list",{staticClass:"van-clearfix",attrs:{offset:"100",finished:t.finished,"immediate-check":!1},on:{load:t.getCleanLogs},model:{value:t.moreloading,callback:function(e){t.moreloading=e},expression:"moreloading"}},t._l(t.logs,(function(e){return i("div",{key:e.fullDate,staticClass:"list-item"},[i("div",{staticClass:"list-item-header"},[i("div",{staticClass:"log-date-wrapper"},[i("span",{staticClass:"log-date"},[t._v(t._s(e.date))])])]),t._l(e.children,(function(a,s){return i("van-swipe-cell",{key:a.id,scopedSlots:t._u([{key:"right",fn:function(){return[i("van-button",{staticClass:"delete-button",attrs:{square:"",type:"danger",text:t.$t("robot_share_delete")},on:{click:function(e){return t.deleteLog(a)}}})]},proxy:!0}],null,!0)},[i("div",{staticClass:"list-item-content",class:1!==a.stopReason?"list-item-content-fail":"",on:{click:function(e){t.edit?t.onChange(a.id):t.navigateToLogDetail(a)}}},[i("div",{staticClass:"scene-time"},[i("div",{staticClass:"log-time"},[t._v(t._s(a.time))]),e.children.length>1?i("div",{staticClass:"scene-line-up",class:0===s?"scene-noline":""}):t._e(),e.children.length>1?i("div",{staticClass:"scene-line-down",class:s===e.children.length-1?"scene-noline":""}):t._e()]),i("div",{staticClass:"scene-content-wrapper"},[i("div",{staticClass:"scene-name"},[t._v(" "+t._s(t._f("cleanTypeToName")(a.type))+" ")]),i("div",{staticClass:"scene-content"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"clean"===t.type,expression:"'clean' === type"}]},[t._v(t._s(t._f("mToFt")(a.area,t.areaUnit))+t._s(t.areaUnit)),i("sup",[t._v("2")]),t._v(" |")]),i("span",[t._v(" "+t._s(t._f("secondToMinute")(a.last))+"min")])])]),i("div",{class:t.edit?"right-checkbox":"right-icon"},[i("img",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],attrs:{src:n("52dc")}}),i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticClass:"van-checkbox",model:{value:a.isChecked,callback:function(e){t.$set(a,"isChecked",e)},expression:"log.isChecked"}})],1)])])}))],2)})),0)]],2)},p=[],g=n("5a0c"),v=n.n(g),b=n("365c"),m=n("ed08"),y=n("105d"),w=n("73c1"),_=n("8975"),O=["ts","id"];function $(t,e){if(null==t)return{};var n,i,a=C(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function C(t,e){if(null==t)return{};var n,i,a={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}function A(t,e,n,i,a,s,r){try{var o=t[s](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(i,a)}function D(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var s=t.apply(e,n);function r(t){A(s,i,a,r,o,"next",t)}function o(t){A(s,i,a,r,o,"throw",t)}r(void 0)}))}}function M(t,e,n,i,a){var s={};return Object.keys(i).forEach((function(t){s[t]=i[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(n,i){return i(t,e,n)||n}),s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k={name:"LogItems",props:{type:{type:String,default:"clean"},edit:{type:Boolean,default:!1}},data:function(){return{hasMore:{},before:Object(y["a"])(new Date),moreloading:!1,finished:!1,authInfo:{},items:[],logs:[],logids:[]}},watch:{edit:{handler:function(t){t&&(this.logids.length=0,this.groupLogs())},immediate:!1},items:{handler:function(){this.groupLogs(),this.$emit("clean"===this.type?"transfer1":"transfer2",this.items.length,0)},immediate:!1},logids:{handler:function(){this.groupLogs(),this.$emit("clean"===this.type?"transfer1":"transfer2",this.items.length,this.logids.length)},immediate:!1}},created:function(){var t=this;Object(d["b"])((function(){Object(d["c"])((function(e){t.authInfo=e;var n="h5"===t.$route.query.from;n?(console.log("从h5进入的"),t.getCleanLogs()):t.getRobotInfo()}))}))},computed:j({},Object(u["d"])(["robotInfo","areaUnit","channel"])),methods:(i=Object(w["a"])(),a=j(j({getRobotInfo:function(){var t=this;return D(l.a.mark((function e(){var n;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["d"])();case 2:n=e.sent,t.SET_ROBOT_INFO(n),t.getCleanLogs();case 5:case"end":return e.stop()}}),e)})))()},getCleanLogs:function(){var t=this;return D(l.a.mark((function e(){var n,i,a,s,r,o,c,u,d,f,h,p,g,v,y,w;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.finished){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,n=Object(m["a"])(),i=n.country,a=n.language,s=void 0===a?"zh_cn":a,void 0!==i){e.next=6;break}throw new Error("country is empty");case 6:if(r=t.robotInfo,o=r.did,c=r.resource,void 0!==o&&void 0!==c){e.next=9;break}throw new Error("robotInfo is empty");case 9:if(u=10,d={did:o,res:c,country:i,size:u,auth:t.authInfo,version:"v2",logType:t.type,before:t.before,lang:s,et1:(new Date).getTime(),defaultLang:"zh_cn",channel:t.channel},f=t.hasMore[t.type],void 0==f||f){e.next=15;break}return t.moreloading=!1,e.abrupt("return");case 15:return e.next=17,Object(b["b"])(d);case 17:if(h=e.sent,p=h.code,g=h.data,v=0,!v){e.next=26;break}return e.next=24,Object(b["b"])(d);case 24:p=0,g="clean"===t.type?[{id:"611f1ad6c620d5b0fc64e34a",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629425676,area:5,last:487,cleanId:"1995237852",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611f1ad6c620d5b0fc64e34a",aiopen:1,aiavoid:0,aitypes:[]},{id:"611f1017c620d5b0fc64e07c",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629425645,area:0,last:0,cleanId:"50475104",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611f1017c620d5b0fc64e07c",aiopen:1,aiavoid:0,aitypes:[]},{id:"611f0ffbc620d5b0fc64e071",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629425288,area:4,last:327,cleanId:"969674763",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611f0ffbc620d5b0fc64e071",aiopen:1,aiavoid:0,aitypes:[]},{id:"611f0a67c620d5b0fc64deed",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629423004,area:13,last:1029,cleanId:"19021039",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611f0a67c620d5b0fc64deed",aiopen:1,aiavoid:0,aitypes:[]},{id:"611e414ac620d5b0fc64c7cb",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629372440,area:2,last:296,cleanId:"1867984902",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611e414ac620d5b0fc64c7cb",aiopen:1,aiavoid:0,aitypes:[]},{id:"611e35c3c620d5b0fc64c65c",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629368291,area:14,last:1310,cleanId:"1932053589",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611e35c3c620d5b0fc64c65c",aiopen:1,aiavoid:0,aitypes:[]},{id:"611e2fdec620d5b0fc64c5d1",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629367817,area:0,last:61,cleanId:"164784595",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611e2fdec620d5b0fc64c5d1",aiopen:1,aiavoid:0,aitypes:[]}]:[{id:"611e2310c620d5b0fc64c2ee",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629364907,area:0,last:0,cleanId:"1058173784",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611e2310c620d5b0fc64c2ee",aiopen:1,aiavoid:0,aitypes:[]},{id:"611dc8e3c620d5b0fc64b2d1",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629341263,area:7,last:576,cleanId:"1504713614",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611dc8e3c620d5b0fc64b2d1",aiopen:1,aiavoid:0,aitypes:[]},{id:"611dc643c620d5b0fc64b23c",did:"b859fc91-c745-4f7d-bbc1-8367accb14c8",ts:1629340265,area:6,last:789,cleanId:"328552339",type:"auto",stopReason:0,powerMopType:1,enablePowerMop:0,imageUrl:"https://portal.ecouser.net/app/dln/api/log/clean_result/image?id=611dc643c620d5b0fc64b23c",aiopen:1,aiavoid:0,aitypes:[]}];case 26:0===p?(y=g,w=t.type,t.hasMore[w]=y.length===u,0===y.length?t.finished=!0:(t.finished=!1,t.before=1e3*y[y.length-1].ts,t.items=t.items.concat(y),console.log("item="+y.size+";this.items="+t.items.size))):t.$toast(t.$t("hint_timeout_request")),e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](2),t.$toast(t.$t("hint_timeout_request")),setTimeout((function(){document.getElementsByClassName("log-list")[0].scrollTop=0}),50);case 33:t.moreloading=!1;case 34:case"end":return e.stop()}}),e,null,[[2,29]])})))()},groupLogs:function(){var t=this;return D(l.a.mark((function e(){var n,i;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={},i=[],t.items.forEach((function(e){var a=e.ts,s=e.id,r=$(e,O),o=v()(1e3*a).format("YYYY/MM/DD");if(n[o])for(var c=0,l=i.length;c<l;c++){var u=i[c];if(u.fullDate===o){u.children.push(j(j({},r),{},{id:s,ts:a,time:v()(1e3*a).format("HH:mm"),isChecked:t.logids.indexOf(s)>-1}));break}}else i.push({fullDate:o,date:Object(_["a"])(a),children:[j(j({},r),{},{id:s,ts:a,time:v()(1e3*a).format("HH:mm"),isChecked:t.logids.indexOf(s)>-1})]}),n[o]=e})),t.logs=i;case 4:case"end":return e.stop()}}),e)})))()}},Object(u["c"])(["SET_ROBOT_INFO"])),{},{delCleanLogs:function(t){var e=this;return D(l.a.mark((function n(){var i,a,s;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(d["a"])(t?f["c"].RobotDeleteLog:f["c"].RobotDeleteLogs),i=t?{logIds:t}:{logIds:e.logids},n.next=4,Object(b["a"])(i);case 4:a=n.sent,s=a.code,0===s?e.delLogItems(t||e.logids):e.$toast(e.$t("hint_timeout_request"));case 7:case"end":return n.stop()}}),n)})))()},delLogItems:function(t){var e=this.items.filter((function(e){return!t.includes(e.id)}));this.items=e},navigateToLogDetail:function(t){this.$router.push({path:"/more/logDetail",query:j({item:JSON.stringify(t)},this.$route.query)})},deleteLog:function(t){this.delCleanLogs([t.id])},onChange:function(t){var e=this.logids.indexOf(t);e>-1?this.logids.splice(e,1):this.logids.push(t)}}),M(a,"getCleanLogs",[i],Object.getOwnPropertyDescriptor(a,"getCleanLogs"),a),a)},T=k,I=(n("638e"),n("2877")),L=Object(I["a"])(T,h,p,!1,null,"7826a78e",null),B=L.exports;function P(t,e,n,i,a,s,r){try{var o=t[s](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(i,a)}function U(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var s=t.apply(e,n);function r(t){P(s,i,a,r,o,"next",t)}function o(t){P(s,i,a,r,o,"throw",t)}r(void 0)}))}}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H={components:{LogItems:B},data:function(){return{navBarOptions:{title:this.$t(this.edited?"lang_210701_093018_M9Wz":"lang_200115_190746_S25G"),backgroundColor:"#ffffff",rightDisabled:this.delDisabled,nativeBack:"h5"!==this.$route.query.from},totalStats:{count:0,hour:0,minute:0,area:0},tab_index:0,edited:!1,leftTitle:this.$t("lang_200115_190747_dOl9"),rightTitle:this.$t("lang_200115_190747_3qD4"),childlog_length:0,childvideo_length:0,childlog_sel:0,childvideo_sel:0,delDisabled:!1}},computed:Y(Y({},Object(u["d"])(["robotInfo","areaUnit"])),{},{showTotalMin:function(){return this.totalStats.hour<=0||!(this.totalStats.hour>=100||this.totalStats.minute<=0)},type4Bigdata:function(t){return void 0===t?"--":"patrol"===t.type?"巡航日志":"findPet"===t.type?"寻找宠物":"清洁日志"}}),created:function(){var t=this;Object(d["b"])((function(){t.$bus.$on("getTotalStats",(function(e){var n=e.area,i=e.time,a=Math.floor(i/3600),s=Math.floor(i%3600/3600*60);t.totalStats=Y(Y({},e),{},{area:n,hour:a,minute:s})})),Object(d["m"])("getTotalStats");var e="h5"===t.$route.query.from;Object(d["a"])(f["c"].ROBOT_CLEAN_LOG,{page_title:e?"设置":"主界面"}),Object(d["p"])("GLOBALAPP_SHOW_CLEAN_LOG")}))},watch:{edited:{handler:function(t){this.delBtnDisabled(),this.navBarOptions.title=t?this.$t("lang_210701_093018_M9Wz"):this.$t("lang_200115_190746_S25G")},immediate:!1}},methods:{delCleanLogs:function(){var t=this;return U(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0===t.tab_index?t.$refs.childlog.delCleanLogs(null):t.$refs.childvideo.delCleanLogs(null);case 1:case"end":return e.stop()}}),e)})))()},delBtnDisabled:function(){0===this.tab_index?this.delDisabled=this.edited&&0===this.childlog_sel:this.delDisabled=this.edited&&0===this.childvideo_sel},getChildlogLength:function(t,e){this.childlog_length=t,this.childlog_sel=e,this.delBtnDisabled()},getChildvideoLength:function(t,e){this.childvideo_length=t,this.childvideo_sel=e,this.delBtnDisabled()},isShowDelIcon:function(){return 0===this.tab_index?this.childlog_length>0:this.childvideo_length>0},navigateToLogDetail:function(t){this.$router.push({path:"/more/logDetail",query:Y({item:JSON.stringify(t)},this.$route.query)}),Object(d["a"])(f["c"].ROBOT_WORK_LOG_CLICK,{log_model:this.type4Bigdata(t)})},clickRight:function(){var t=this;if(this.edited){if(this.delDisabled)return;o["a"].alert({showCancelButton:!0,message:this.$t("lang_210805_162120_t5I0"),confirmButtonText:this.$t("robot_share_delete"),cancelButtonText:this.$t("common_cannel")}).then((function(){t.delCleanLogs(),t.edited=!t.edited}))}else this.edited=!this.edited},navigateBack:function(){if(this.edited)this.edited=!1;else{var t="h5"===this.$route.query.from;t?this.$router.back():Object(d["g"])({platformdestroy:!1})}}}},J=H,N=(n("84f0"),Object(I["a"])(J,s,r,!1,null,"40fd7b56",null));e["default"]=N.exports},"404f":function(t,e,n){t.exports=n.p+"img/my_record_empty.dacca51c.png"},"52dc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAqCAQAAAADzFPVAAABM0lEQVR4nJXVTStGURDA8ZFSlCj5AjzeIqIslLIhYiERK9+FhSwkShYSxUopK6VYqEf6RynfwUveCoWIOjbSnNXM3PX/1617z5kRERGaOKJWvA8FrklcUuPL67gikUhcUOUBJ395InHmIBT+35BInFJpk0ZuFSlSYZMW7hU59pA2HhQ5pNwmHTwpckCZTbp4VmTfQ7p5UWTPQ3p4VWSXUpv08qbIjof08a7IlocM8KHIBiU2GeJLkTUPGcnIioeMZWTJBCJM8KPIgodMZWTOQ6YzMhMFs1Y+meXzVj7Ot8oXrXw0+6zLVj6c5avGj2OQT5WvW3l/dl43rTw/3tvG8Q5eoOAVDQ4BOkNjhnYeA4OM1tCopJm7wDCmgZvAuKc+uFAoqvzcs7L0Uqw2c4mvXQku9l9w2xJb39TXIQAAAABJRU5ErkJggg=="},"638e":function(t,e,n){"use strict";n("2adc")},"6efa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABgUlEQVR4Ae2XtVYtMRSG51bX0AYvR3CHJLgmGVw7XFr8BaDD3SnxR6GH58Bd98HdcgbLv1Zc9jcTVxQpKSkpJSmp4o9vXIbuh2i6b4xJjVhuEFL890OhItKKnQ3E6jXEljVETx5yOqYrBmENQXGZrpbCGTFmiobYFkC8yGG6rROeahmgjmnP1V9CdFPHdE4jrE3HrMbmEGs9c7Nn+RvXf5N1WwYYkJThAQbPXC0yTadH/3RsjqNBeLWBaEcgynFXfpSCael/HbMlGB57OrABtl4NqOEMBB1Y4cDWqwFPTk5+aYS26Jgt2tOBDbClfGtdr1RxCk4yfUTue1N+sSZWBEnDvEDDbEYgIFvUEFt7CNIgvBjczTKIX+Y/BKcjug99Cga0na0b9wxebxeLd+uDe2A0DiDfLoDg3gsIeZ8JUAJKQAl4fa7yxus83niZbz3g6yUBJeD3BzQQHRN/zWej4v4gYdGXtxARDvqCPhWR8idmmI75wPvfIXwA+hKEJSUldQpDwvUHCGh6jQAAAABJRU5ErkJggg=="},"73c1":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("47e2"),n("2241");var i=n("a34a"),a=n.n(i);var s=n("2af9");function r(t,e,n,i,a,s,r){try{var o=t[s](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var s=t.apply(e,n);function o(t){r(s,i,a,o,c,"next",t)}function c(t){r(s,i,a,o,c,"throw",t)}o(void 0)}))}}var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return function(e,n,i){var r=i.value;i.value=o(a.a.mark((function e(){var n,i,o,c=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s["d"].loading(),n=c.length,i=new Array(n),o=0;o<n;o++)i[o]=c[o];return e.prev=2,e.next=5,r.call.apply(r,[this].concat(i));case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e["catch"](2),t&&t.call.apply(t,[this,e.t0].concat(i));case 11:return e.prev=11,s["d"].hideLoading(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[2,8,11,14]])})))}}},"84f0":function(t,e,n){"use strict";n("f9ac")},bcfc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABVElEQVR4Ae3XhU3FYBAH8BfHXeKCu0MNl+9ecY0zAnMwAUswAe7uzgAsgUMPdy68a7H7J9VrLr9665N8HIlEIknV1LAzXH02pGlwkmo2FlB65pY3RTvbz6Sa0MQBvCINuuqj4lJ1WL/ZKV2dZZi2YgLCUZoOg28Ohr+ffuTU2uNRV+OG0RPMAkRIIH0KqtujnuDwiE8Vt7SEYM19IA23+qTXbJ7qDcWal0ACDgdYSLdaw7HmPpCC02HlsYda0mw7gg0XCLC4vifyKQ6PIq7DmvtAGm758YaADbyDseYtkIBL02Ar24AYftkXgHh94XX25FGym1bdEoc1j4EEnAb7eWZHgqs4KhBxzjaLT7Y9zNFaE13HUYE5pp2cbvh77gcKDl9xzhEf4AcyJN3ypzu4Hez7I4HYC3sKkB4BCpDxk59hwF78QJcG/t9O3mHYJ5FIJJIPcw0yb3dJVpPU2QAAAABJRU5ErkJggg=="},f9ac:function(t,e,n){}}]);