(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fc3b0bc"],{"0ebf":function(e,t,o){"use strict";o.r(t);o("47e2");var a,c=o("2241"),i=o("1da1"),n=(o("93b0"),o("2bdd")),r=(o("f085"),o("921b")),s=(o("bf0b"),o("f49d")),d=o("a34a"),A=o.n(d),u=o("940c"),l=o("0dbc"),f=o("b638"),v=o("fcdd"),p=o("a188"),g=o.n(p),h=o("9596"),b=o.n(h),k=o("8ff8"),m=o.n(k),w=o("b968"),R=o.n(w),Y=(o("6a4f"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("eco-layout",{attrs:{"background-color":"#f4f5f9"}},[o("eco-nav-bar",{attrs:{title:e.$t("lang_210916_143404_1Cnb"),"right-text":e.rightText,"left-arrow":!1},on:{"click-left":e.navigateBack,"click-right":e.clickRight},scopedSlots:e._u([{key:"left",fn:function(){return[o("img",{staticClass:"back-icon",attrs:{src:e.LeftArrow,alt:""}})]},proxy:!0}])}),e._v(" "),o("div",{staticClass:"eco-layout-content",class:e.emptyRecord?"record-empty2":""},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.emptyRecord,expression:"emptyRecord"}],staticClass:"record-empty"},[o("img",{staticClass:"record-empty-img",attrs:{src:e.YikoNoRecord}}),e._v(" "),o("p",[e._v(e._s(e.$t("lang_210810_134620_liZ7")))])]),e._v(" "),o("van-list",{staticClass:"van-content-list",attrs:{finished:e.finished,"finished-text":""},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.voiceRecordNew,(function(t,a){return o("div",{key:a},[o("div",[o("div",{staticClass:"list-item-header"},[o("div",{staticClass:"log-date-wrapper"},[o("span",{staticClass:"log-date"},[e._v(e._s(t.date))])])]),e._v(" "),e._l(t.recordsNew,(function(a,c){return o("div",{key:c},[o("div",[o("div",{staticClass:"list-item-content"},[o("div",{staticClass:"scene-time"},[o("div",{staticClass:"log-time"},[e._v(e._s(e.hourTime(a.time)))]),e._v(" "),o("div",{staticClass:"scene-line-down",class:c+1==t.recordsNew.length?"half":"main"})]),e._v(" "),a.data[0]?o("div",{staticClass:"scene-content-wrapper"},[o("div",{staticClass:"scene-name"},[e._v("\n                    “"+e._s(a.data[0].content)+"”\n                  ")]),e._v(" "),a.data[1]?o("div",[o("span",{staticClass:"scene-content"},[e._v("\n                      "+e._s(a.data[1].content))])]):e._e()]):e._e()])])])}))],2)])})),0)],1)],1)}),y=[];t["default"]={_scopeId:"data-v-2fdd0961",render:Y,staticRenderFns:y,name:"eco-voice-record",components:(a={},a[s["a"].name]=s["a"],a[r["a"].name]=r["a"],a[n["a"].name]=n["a"],a),data:function(){return{voiceRecordList:[],voiceRecordNew:[],paddingTop:null,loading:!1,finished:!1,emptyRecord:!1,rightText:"",before:null,YikoAvatar:g.a,UserAvatar:b.a,YikoNoRecord:m.a,LeftArrow:R.a}},created:function(){var e=this;Object(l["b"])(Object(i["a"])(A.a.mark((function t(){return A.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])(f["a"].RobotYIKORecord),console.log("getYikoVoiceRecord getUrlParams()",Object(v["a"])()),e.getYikoVoiceRecord();case 3:case"end":return t.stop()}}),t)})))),this.handleVoiceRecord()},methods:{clickRight:function(){var e=this;Object(l["a"])(f["a"].RobotYIKORecordEmpty),c["a"].alert({message:this.$t("lang_210701_092928_oD59"),cancelButtonText:this.$t("common_cancel"),confirmButtonText:this.$t("settings_clearCache_confirm_clear"),showCancelButton:!0}).then((function(){e.deleteYikoVoiceRecord()})).catch((function(){}))},navigateBack:function(){this.$router.back()},pxToNumber:function(e){return Number(e.replace("px",""))},getYikoVoiceRecord:function(){var e=this;return Object(i["a"])(A.a.mark((function t(){var o,a,c,i,n;return A.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,o=Object(v["a"])(),a=o.did,c=o.iotuserid,console.log("getYikoVoiceRecord","did="+a+",iotuserid="+c),null!=a&&null!=c){t.next=5;break}return t.abrupt("return");case 5:return i={did:a,uid:c,size:10},e.before&&(i.before=e.before),t.next=9,Object(u["d"])(i);case 9:n=t.sent,n.data||(e.finished=!0),e.voiceRecordList=[].concat(e.voiceRecordList,n.data),e.handleVoiceRecord(),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),404===t.t0.code&&console.log("fail"),e.finished=!0;case 19:return t.prev=19,e.loading=!1,e.refreshEmptyRecord(),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[0,15,19,23]])})))()},deleteYikoVoiceRecord:function(){var e=this;return Object(i["a"])(A.a.mark((function t(){var o,a,c,i;return A.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,o=Object(v["a"])(),a=o.did,null!=a){t.next=5;break}return console.log("this.did is null"),t.abrupt("return");case 5:return t.next=7,Object(u["a"])(a);case 7:c=t.sent,i=c.code,0===i&&(e.voiceRecordList=[],e.voiceRecordNew=[],e.before=null),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),404===t.t0.code&&console.log("fail");case 15:return t.prev=15,e.refreshEmptyRecord(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},refreshEmptyRecord:function(){0===this.voiceRecordNew.length?(this.emptyRecord=!0,this.rightText=""):(this.emptyRecord=!1,this.rightText=this.$t("settings_clearCache_confirm_clear"))},transDate:function(e){var t=new Date(e),o=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var c=t.getDate();c=c<10?"0"+c:c;var i=t.getHours();i=i<10?"0"+i:i;var n=t.getMinutes();n=n<10?"0"+n:n;var r=t.getSeconds();return r=r<10?"0"+r:r,o+"/"+a+"/"+c+" "+i+":"+n+":"+r},handleVoiceRecord:function(){if(0!==this.voiceRecordList.length){this.voiceRecordList.sort((function(e,t){return t.ts-e.ts}));for(var e=0;e<this.voiceRecordList.length;e++){var t=this.voiceRecordList[e].ts;this.voiceRecordList[e].formatTime=this.transDate(Number(t))}var o=[];this.voiceRecordList.forEach((function(e){var t=-1,a=e.formatTime.substring(0,10),c=o.some((function(e,o){return a===e.date&&(t=o,!0)}));if(c)o[t].records.push(e);else{var i=[];i.push(e),o.push({date:a,ts:e.ts,records:i})}})),console.log("newArr",o),o.forEach((function(e){for(var t=e.records,o={},a=[],c=0;c<t.length;c++){var i=t[c];if(o[i.id])for(var n=0;n<a.length;n++){var r=a[n];if(r.id==i.id){r.data.push(i);break}}else a.push({id:i.id,ts:i.ts,time:i.formatTime,data:[i]}),o[i.id]=i}a.sort((function(e,t){return t.ts-e.ts})),e.recordsNew=a})),o.sort((function(e,t){return t.ts-e.ts})),console.log("handleVoiceRecord voiceRecordNew",JSON.stringify(o)),this.voiceRecordNew=o,this.before=this.voiceRecordList[this.voiceRecordList.length-1].ts}},calculatePadd:function(){var e=document.querySelector(".info-content"),t=document.querySelector(".user-avatar");if(null!=t){var o=t.getBoundingClientRect().height,a=window.getComputedStyle(e,null),c=a.fontSize,i=this.pxToNumber("normal"===a.lineHeight?c:a.lineHeight),n=o/2-i/2+"px";this.paddingTop=n}},onLoad:function(){this.loading=!0,this.getYikoVoiceRecord()},hourTime:function(e){return e.slice(10,16)}}}},"6a4f":function(e,t,o){},"8ff8":function(e,t,o){e.exports=o.p+"img/yiko_voicerecord_empty.a7a3dcec.png"},9596:function(e,t,o){e.exports=o.p+"img/yiko_voicerecord_user_avatar.ca1a3daf.png"},a188:function(e,t){e.exports="data:image/png;base64,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"}}]);