(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f1a5f48"],{"222b":function(t,e,n){},"73c1":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("47e2"),n("2241");var a=n("a34a"),r=n.n(a);var i=n("2af9");function c(t,e,n,a,r,i,c){try{var s=t[i](c),o=s.value}catch(u){return void n(u)}s.done?e(o):Promise.resolve(o).then(a,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){c(i,a,r,s,o,"next",t)}function o(t){c(i,a,r,s,o,"throw",t)}s(void 0)}))}}var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return function(e,n,a){var c=a.value;a.value=s(r.a.mark((function e(){var n,a,s,o=arguments;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i["d"].loading(),n=o.length,a=new Array(n),s=0;s<n;s++)a[s]=o[s];return e.prev=2,e.next=5,c.call.apply(c,[this].concat(a));case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e["catch"](2),t&&t.call.apply(t,[this,e.t0].concat(a));case 11:return e.prev=11,i["d"].hideLoading(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[2,8,11,14]])})))}}},"7a10":function(t,e,n){"use strict";n("222b")},f28a:function(t,e,n){"use strict";n.r(e);var a,r,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{on:{"click-left":t.navigateBack}},[a("div",{staticClass:"container"},t._l(t.lifeSpans,(function(e){return a("div",{key:e.type,staticClass:"material-card"},[a("div",{staticClass:"card-content-wrapper"},[a("div",{staticClass:"card-content",on:{click:function(n){return t.navigateToMaterialDetail(e)}}},[a("div",{staticClass:"card-content-left"},[void 0===e.icon||""===e.icon?a("div",{staticClass:"material-icon",class:["material-icon-"+e.type]}):a("img",{staticClass:"material-icon-image",attrs:{src:e.icon}})]),0==t.isInLifeSapn(e.type)?a("div",{staticClass:"card-content-right"},[a("div",{staticClass:"value-wrapper"},[a("span",{staticClass:"title"},[t._v(t._s(e.name))])])]):"unitCare"!=e.type&&"dustBag"!=e.type?a("div",{staticClass:"card-content-right"},[a("div",{staticClass:"value-wrapper"},[a("span",{staticClass:"title"},[t._v(t._s(e.title))])]),e.percent>=40?a("div",{staticClass:"value-progress"},[a("span",{staticClass:"percent-icon"}),a("span",{staticClass:"percent"},[t._v(t._s(e.percentText))])]):e.percent>=15?a("div",{staticClass:"value-progress"},[a("span",{staticClass:"percent-icon-middle"}),a("span",{staticClass:"percent-middle"},[t._v(t._s(e.percentText))])]):a("div",{staticClass:"value-progress"},[a("span",{staticClass:"percent-icon-low"}),a("span",{staticClass:"percent-low"},[t._v(t._s(e.percentText))])]),a("div",{staticClass:"time"},[t._v(t._s(t.getText(e)))])]):a("div",{staticClass:"card-content-right"},[a("div",{staticClass:"value-wrapper"},[a("span",{staticClass:"title"},[t._v(t._s(e.title))])]),e.percent>=15&&"unitCare"===e.type||e.left>=3&&"dustBag"===e.type?a("div",{staticClass:"value-progress"},[a("span",{staticClass:"percent-icon"}),a("span",{staticClass:"percent"},[t._v(t._s(e.percentText))])]):a("div",{staticClass:"value-progress"},[a("span",{staticClass:"percent-icon-low"}),a("span",{staticClass:"percent-low"},[t._v(t._s(e.percentText))])]),a("div",{staticClass:"time"},[t._v(t._s(t.getText(e)))])])]),e.percent<15?a("div",{staticClass:"card-bottom-btn"},["unitCare"!=e.type&&void 0!=e.url?a("span",{staticClass:"btn-buy",on:{click:function(n){return t.jsonToBuy(e.url)}}},[t._v(t._s(t.$t("buy_now")))]):t._e(),"unitCare"!=e.type?a("span",{staticClass:"btn-reset",on:{click:function(n){return t.handleReset(e.type)}}},[t._v(t._s(t.$t("lang_200703_134637_fVxe")))]):t._e(),"unitCare"===e.type?a("span",{staticClass:"btn-reset",on:{click:function(n){return t.confirmReset(e.type)}}},[t._v(t._s(t.$t("lang_200703_134637_X7XL")))]):t._e()]):t._e()]),void 0!=e.url?a("img",{staticClass:"icon-more",attrs:{src:n("e4e3")}}):a("div",{staticClass:"icon-more"})])})),0)])},c=[],s=n("a34a"),o=n.n(s),u=n("2f62"),l=n("0530"),p=n("73c1"),f=n("60fe"),v=n("963a"),h=n("365c"),d=n("ed08");function _(t,e,n,a,r,i,c){try{var s=t[i](c),o=s.value}catch(u){return void n(u)}s.done?e(o):Promise.resolve(o).then(a,r)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function c(t){_(i,a,r,c,s,"next",t)}function s(t){_(i,a,r,c,s,"throw",t)}c(void 0)}))}}function b(t,e,n,a,r){var i={};return Object.keys(a).forEach((function(t){i[t]=a[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,a){return a(t,e,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w={data:function(){return{list:[]}},created:function(){var t=this;Object(v["b"])((function(){var e="h5"===t.$route.query.from;e?console.log("从h5进入的"):t.getRobotInfo();var n={position_title:e?"设置列表页":"主界面弹窗"};Object(l["a"])(f["c"].RobotConsumablesList,n),Object(v["j"])("GLOBALAPP_TIMING_OF_CONSUMABLES"),t.$bus.$on("getLifeSpan",(function(e){t.SET_LIFE_SPAN(e)}))}))},computed:y(y({},Object(u["d"])(["isBackward","lifeSpan","purchaseList","robotInfo"])),{},{lifeSpans:function(){var t=this,e=this.lifeSpan.map((function(e){var n=t.purchaseList.find((function(t){return t.type===e.type}))||{};return y(y({},e),n)})),n=[];return this.purchaseList.map((function(t){var a=null;a=e.find((function(e){return e.type===t.type})),null==a&&n.push(y({},t))})),n.map((function(t){e.push(t)})),e}}),methods:(a=Object(p["a"])(),r=y(y({getRobotInfo:function(){var t=this;return g(o.a.mark((function e(){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(v["d"])();case 2:n=e.sent,t.SET_ROBOT_INFO(n),t.getLifeSpan(n.appLogicId),t.getPurchaseUrl();case 6:case"end":return e.stop()}}),e)})))()},getLifeSpan:function(t){var e=["sideBrush","heap","brush","roundMop","unitCare"];Object(l["m"])("getLifeSpan",e),Object(l["m"])("getTimeZone")},getPurchaseUrl:function(){var t=this;return g(o.a.mark((function e(){var n,a,r,i,c,s,u,l,p,f,v;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.robotInfo.mid,e.prev=1,a=Object(d["a"])(),r=a.country,i=a.language,c=void 0===i?"zh_cn":i,c=c.toLowerCase(),"zh_cn"===c?c="zh":"zh_tw"===c&&(c="zh-tw"),s="CN"===r||"cn"===r,u=s?"zh":"en","CN"===r&&(r="Chinese"),l=s?"JSON":"URL",p={country:r,lang:c,defaultLang:u,cid:n,apptype:"ecoglobal",paramType:l},e.next=12,Object(h["g"])(p);case 12:f=e.sent,v=f.data,t.SET_PURCHASE_LIST(v),console.log(v),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](1),console.log(e.t0),t.$toast(t.$t("hint_timeout_request"));case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))()}},Object(u["c"])(["SET_LIFE_SPAN","SET_PURCHASE_LIST","SET_ROBOT_INFO"])),{},{navigateBack:function(){var t="h5"===this.$route.query.from;t?this.$router.back():Object(v["e"])({platformdestroy:!1})},navigateToMaterialDetail:function(t){if(void 0!==t.desc){var e;void 0!=t.url&&t.url.length&&(e=t.url);var n="1";void 0===e||""===e?this.$router.push({path:"/more/materialDetail/".concat(t.type,"/").concat(t.percent,"/").concat(t.left,"/").concat(n)}):this.$router.push({path:"/more/materialDetail/".concat(t.type,"/").concat(e,"/").concat(t.percent,"/").concat(t.left,"/").concat(n)})}},handleReset:function(t){var e=this,n={sideBrush:this.$t("side_brush_confirm_changed"),brush:this.$t("filter_confirm_changed"),heap:this.$t("roll_brush_confirm_changed"),unitCare:this.$t("lang_210701_093023_h8cc"),roundMop:this.$t("lang_201229_085759_0p8l"),dustBag:this.$t("lang_210701_093022_6VAY")},a=n[t];this.$dialog.confirm({message:a,confirmButtonText:this.$t("common_confirm"),cancelButtonText:this.$t("common_cannel")}).then((function(){e.confirmReset(t)}))},confirmReset:function(t){var e=this;return g(o.a.mark((function n(){var a;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["m"])("resetLifeSpan",{type:t});case 2:a=e.lifeSpan.map((function(e){return y(y({},e),{},{left:e.type===t?e.total:e.left})})),e.SET_LIFE_SPAN(a);case 4:case"end":return n.stop()}}),n)})))()},getText:function(t){var e=t.type,n=t.left,a=t.percent,r={sideBrush:this.$t("lang_210701_092932_wBN5"),brush:this.$t("lang_210701_092932_wBN5"),heap:this.$t("lang_210701_092932_wBN5"),roundMop:this.$t("lang_210701_092932_wBN5"),unitCare:this.$t("lang_210722_092323_ejai")};if("dustBag"===e)return this.$t("lang_210701_092932_DGAe").replace("[number]",n);if(a<15)return r[e];var i=Math.ceil(n/60);return this.$t("lang_200703_134636_YCz8").replace("[number]",i)},jsonToBuy:function(t){try{var e=JSON.parse(t);console.log(e),Object(l["k"])(e)}catch(n){console.log(n)}},isInLifeSapn:function(t){var e=!1;return this.lifeSpan.map((function(n){n.type===t&&(e=!0)})),e}}),b(r,"confirmReset",[a],Object.getOwnPropertyDescriptor(r,"confirmReset"),r),r)},O=w,j=(n("7a10"),n("2877")),S=Object(j["a"])(O,i,c,!1,null,"422feb4a",null);e["default"]=S.exports}}]);